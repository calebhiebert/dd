<div [formGroup]="formGroup">
  <div class="form-horizontal">
    <div
      class="form-group col-12"
      *ngFor="let att of attributes"
      [ngClass]="{
        'has-error':
          control(att.name).invalid &&
          (control(att.name).dirty || control(att.name).touched),
        'has-success':
          control(att.name).valid &&
          (control(att.name).dirty || control(att.name).touched)
      }"
    >
      <div class="col-2 col-lg-3 col-sm-12">
        <label class="form-label"
          >{{ att.name }}
          <span *ngIf="att.required" class="text-primary text-large text-bold"
            >*</span
          ></label
        >
      </div>
      <div class="col-10 col-lg-9 col-md-12">
        <div [ngClass]="{ 'has-icon-left': att.imageId }" [ngSwitch]="att.type">
          <!-- Text Input -->
          <input
            type="text"
            name="attr"
            class="form-input"
            [placeholder]="att.name"
            [formControlName]="att.name"
            *ngSwitchCase="0"
          />

          <!-- Number Input -->
          <input
            type="number"
            name="attr"
            class="form-input"
            [placeholder]="att.name"
            [formControlName]="att.name"
            *ngSwitchCase="1"
          />

          <!-- Enum input -->
          <select
            class="form-input"
            name="attr"
            [formControlName]="att.name"
            *ngSwitchCase="2"
          >
            <option *ngFor="let o of att.options" [value]="o">{{ o }}</option>
          </select>

          <!-- Big Text Input -->
          <textarea
            class="form-input"
            name="bigtext"
            rows="3"
            [formControlName]="att.name"
            [placeholder]="att.name"
            *ngSwitchCase="3"
          ></textarea>

          <figure class="form-icon avatar" *ngIf="att.imageId">
            <img
              src="https://res.cloudinary.com/dqhk8k6iv/image/upload/t_thumb/{{
                att.imageId
              }}"
            />
          </figure>
        </div>
        <p class="form-input-hint mb-0">{{ att.description }}</p>
        <p
          class="form-input-hint mb-1"
          *ngIf="
            control(att.name).invalid &&
            (control(att.name).dirty || control(att.name).touched) &&
            control(att.name).errors.required
          "
        >
          {{ att.name }} is required
        </p>
        <p
          class="form-input-hint mb-1"
          *ngIf="
            control(att.name).invalid &&
            (control(att.name).dirty || control(att.name).touched) &&
            control(att.name).errors.min
          "
        >
          {{ att.name }} can't be lower than {{ att.min }}
        </p>
        <p
          class="form-input-hint mb-1"
          *ngIf="
            control(att.name).invalid &&
            (control(att.name).dirty || control(att.name).touched) &&
            control(att.name).errors.max
          "
        >
          {{ att.name }} can't be higher than {{ att.max }}
        </p>
        <p
          class="form-input-hint mb-1"
          *ngIf="
            control(att.name).invalid &&
            (control(att.name).dirty || control(att.name).touched) &&
            control(att.name).errors.minlength
          "
        >
          {{ att.name }} cannot have less than {{ att.min }} characters
        </p>
        <p
          class="form-input-hint mb-1"
          *ngIf="
            control(att.name).invalid &&
            (control(att.name).dirty || control(att.name).touched) &&
            control(att.name).errors.maxlength
          "
        >
          {{ att.name }} cannot have more than {{ att.max }} characters
        </p>
      </div>
    </div>
  </div>
</div>
