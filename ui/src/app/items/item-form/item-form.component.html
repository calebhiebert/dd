<div [formGroup]="formGroup">
  <div class="columns">
    <div class="column col-3 col-md-12">
      <label class="form-label">Item Image</label>
      <dd-image-upload [formGroup]="formGroup"></dd-image-upload>
    </div>
    <div class="column col-9 col-md-12">
      <!-- Name -->
      <div
        class="form-group"
        [ngClass]="{
          'has-error': name.invalid && (name.dirty || name.touched)
        }"
      >
        <label class="form-label label-lg" for="item-name">Name</label>
        <input
          class="form-input input-lg"
          formControlName="name"
          type="text"
          id="item-name"
          placeholder="Sword of Agatha"
        />
        <p
          class="form-input-hint"
          *ngIf="
            name.invalid && (name.dirty || name.touched) && name.errors.required
          "
        >
          The item needs a name
        </p>
        <p
          class="form-input-hint"
          *ngIf="
            name.invalid &&
            (name.dirty || name.touched) &&
            name.errors.minlength
          "
        >
          The name is too short
        </p>
        <p
          class="form-input-hint"
          *ngIf="
            name.invalid &&
            (name.dirty || name.touched) &&
            name.errors.maxlength
          "
        >
          The name can't be more than 30 characters long
        </p>
      </div>

      <!-- Description -->
      <div
        class="form-group"
        [ngClass]="{
          'has-error':
            description.invalid && (description.touched || description.dirty)
        }"
      >
        <label class="form-label" for="item-description">Description</label>
        <textarea
          class="form-input"
          formControlName="description"
          id="item-description"
          rows="5"
          placeholder="Sharp sword made of metal"
        ></textarea>
        <p
          class="form-input-hint"
          *ngIf="
            description.invalid &&
            (description.touched || description.dirty) &&
            description.errors.required
          "
        >
          The item needs a description
        </p>
      </div>

      <!-- Rarity -->
      <div class="form-group">
        <label for="rarity" class="form-label">Rarity</label>
        <select
          name="rarity"
          id="rarity"
          class="form-input"
          formControlName="rarity"
        >
          <option [value]="i" *ngFor="let ir of rarities; let i = index">{{
            ir.name
          }}</option>
        </select>
      </div>

      <!-- Tags -->
      <label class="form-label">Tags</label>
      <dd-tag-editor [formGroup]="formGroup"></dd-tag-editor>
    </div>
  </div>
</div>
